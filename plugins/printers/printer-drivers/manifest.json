{
  "id": "printer-drivers",
  "name": "Printer Drivers",
  "version": "1.0.1",
  "type": "printers",
  "coreVersion": "^1.0.0",
  "requiredPermissions": [],
  "entryPoints": {
    "main": "index.ts",
    "ui": "ui/DriverRepository.tsx",
    "settings": "ui/Settings.tsx"
  },
  "ui": {
    "configPage": "ui/Settings.tsx"
  },
  "database": {
    "schema": "plg_printer_drivers",
    "tables": [
      {
        "name": "Packages",
        "columns": [
          {
            "name": "Id",
            "type": "INT",
            "nullable": false,
            "primaryKey": true,
            "identity": true
          },
          {
            "name": "PackageId",
            "type": "NVARCHAR(255)",
            "nullable": false
          },
          {
            "name": "StorageHash",
            "type": "NVARCHAR(64)",
            "nullable": false
          },
          {
            "name": "OriginalFilename",
            "type": "NVARCHAR(255)",
            "nullable": true
          },
          {
            "name": "DisplayName",
            "type": "NVARCHAR(255)",
            "nullable": true
          },
          {
            "name": "Version",
            "type": "NVARCHAR(50)",
            "nullable": true
          },
          {
            "name": "Vendor",
            "type": "NVARCHAR(100)",
            "nullable": true
          },
          {
            "name": "UploadedBy",
            "type": "NVARCHAR(100)",
            "nullable": true
          },
          {
            "name": "CreatedAt",
            "type": "DATETIME2",
            "nullable": false,
            "defaultValue": "GETUTCDATE()"
          }
        ]
      },
      {
        "name": "SupportedModels",
        "columns": [
          {
            "name": "Id",
            "type": "INT",
            "nullable": false,
            "primaryKey": true,
            "identity": true
          },
          {
            "name": "PackageId",
            "type": "INT REFERENCES [plg_printer_drivers].[Packages](Id)",
            "nullable": false
          },
          {
            "name": "ModelName",
            "type": "NVARCHAR(255)",
            "nullable": false
          },
          {
            "name": "HardwareId",
            "type": "NVARCHAR(450)",
            "nullable": false
          }
        ]
      },
      {
        "name": "Settings",
        "columns": [
          {
            "name": "SettingKey",
            "type": "NVARCHAR(100)",
            "nullable": false,
            "primaryKey": true
          },
          {
            "name": "SettingValue",
            "type": "NVARCHAR(MAX)",
            "nullable": true
          }
        ]
      }
    ]
  }
}